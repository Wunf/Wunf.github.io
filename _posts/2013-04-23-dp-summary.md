---
layout: post
category : algorithem related
title : "DP问题总结"
tagline: "复习并敦促自己"
tags : [dynamic programming, summary]
---
{% include JB/setup %}

前几天在USACO上做题的时候，遇到一道可以用DP解决的题。虽然思路很简单还是想了半天，遂决定找些资料把DP问题总结一下。想起当年看算法导论的时候对这一块就是模模糊糊，想做这个事情已经很久了，结果一直拖到现在。

####DP的几个步骤: 

1. 描述最优解的结构
1. 递归定义最优解的值
1. 按自底向上的方式计算最优解的值
1. 由计算出的结果构造一个最优解

这是算法导论上的官方说法，其实我觉得要解DP第四步不算的话主要就是先找到最优子结构然后设计好状态转换方程就搞定了，但这两步也就是解题的难点。

首先拿到问题，一般DP问题都会给人一种很强烈地能用DP解决的感觉（博主是来卖萌的），好吧是能找到最优子结构的并且具有重叠子问题。

####最优子结构:

什么是最优子结构，我的理解就是怎么拆分当前的问题，使得它能够包含子问题的最优解。所以关键就在于怎么“拆”，怎么找出每一步要把问题解决到什么地步。有的问题的最优子结构会很明显，主要是因为问题的结构很有层次感，描述问题的方法就是递归描述的，比如数字三角形问题，几乎立刻就能转化成一个类似斐波那契数列的结构。但大多数，很多经典的DP问题，还是需要分析后才能得出结果的。

还是以算法导论里的例题为例：

+ 装配线调度问题的结构也是比较简单的，因为整个过程就很有调度的特点，是一步一步进行的。所以很自然就能想到把问题拆到每一步得到一个最优解，我觉得调度类的问题都可以用这个思路来解决。
+ 矩阵链乘法问题，我首先拿到这个问题的时候觉得这很类似字符串处理的过程，再加上以前看背包问题的思维误导，很自然地就想到把问题拆成前N个矩阵链相乘。仔细一想就会发现这样的子问题拆分不合理，因为矩阵的计算不存在顺序，前N个矩阵链相乘的最优解不一定包含前N-1个矩阵相乘的最优解。所以我觉得遇到这种问题，不能受定式思维的影响。可以考虑在心中模拟如果找到最优解，在使用最优解处理的过程寻找灵感。看某一步操作之后的状态是不是一个良好的子结构。在矩阵链上添加的第一对括号把矩阵分成两个部分，接下来就很容易看出子结构了。这样的思路适用于找最优解决方法类的问题。
又如最优二叉查找树的问题，这里要找到一个建立最优树的方法。假设我们已经找到了这个方法，然后我们要做的就是建立树。在建树的过程中可以明显感觉到左右子树的子问题性，虽然树已经是很臭名昭著的递归结构了，但这个思维我觉得还是可以借鉴的。
还有多边形最优三角剖分问题，这个问题可以在图形学领域应用，做些表面剖分又不至于分出形状怪异不利于局部处理的三角形。每一步剖分之后剩下的两部分还依然是同样的子问题。
这类问题其实熟练后也属于一眼就能看出子问题结构的，所以我觉得经常进行思维训练还是很有帮助的，至少熟能生巧嘛。其他这类问题还有著名的0-1背包问题。
+ 其他的像最长公共子序列（LCS）这种问题就没有那么明显了。但如果想总结我觉得还是可以找出一些规律的。比如像处理字符串，以及跟字符串类似的问题，很多情况都是前N个字符作为子问题。比如LCS，最长上升子序列（LIS）等等。

所以还是应该多做题，锻炼思维能力，或者说跟算法混个脸熟比较好恩。

####状态转换方程:

然后的问题就是找状态转换方程了，状态转换方程其实就是打一张表，把以前算过的最优解存下来，再用上之前设计好的递推公式就成了。表上存的值一般就是问题要求的值，问题如果要做上面第四步的话就另外建表存标志位，最后全部处理完了再回头找算出的结果。

函数的参数怎么选择？表格存什么数据结构？表格如何维护？这些在算法导论上都有例题详解。这里我就试着总结下参数选择的问题吧。其实就是看当前的问题状态用几个参数可以唯一确定，如0-1背包问题里，用包里剩余空间和可供选择的物品可以唯一确定当前的问题；LCS中，两个子串的长度（从第一个字符开始）可以唯一确定一个问题；LIS中，当前子串长度就可以确定问题了。这里还应当尽量简化参数的表达形式，利于表格维数表示，像最优二叉查找树中将关键字升序排列后，就可以用第一个和最后一个关键字的序号来表示当前的关键字集合，矩阵链问题同理。

看看半天其实也没写多少东西，算法还是要常练才好，这篇文章还是志在鼓励自己吧，下面留几道DP的题。

	Pku acm 1163 the Triangle
	pku acm 1579 Run Fun
	pku acm 2081 Recaman's Sequence
	pku acm 1953 World Cup Noise
	pku acm 1458 Common Subsequence
	pku acm 2250 Compromise
	pku acm 1159 Palindrome
	pku acm 1080 Human Gene Function
	pku acm 2192 Zipper
	Pku acm 1179 Polygon
